<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        :root{
            --bg-color: #ffff;
            --text-color: #333333;
            --card-bg: #f5f5f5;
            --border-color: #dddddd;
            --toggle-bg: #f0f0f0;
            --toggle-circle: #ffffff;
            --accent-color: #4a6cf7;
        }
        [data-theme="dark"]{
            --bg-color: #121212;
            --text-color: #f5f5f5;
            --card-bg: #1e1e1e;
            --border-color: #333333;
            --toggle-bg: #333333;
            --toggle-circle: #4a6cf7;
            --accent-color: #6b8cff;
        }
        
        *{
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            list-style: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container{
            display: flex;
            flex-direction: column;
            padding: 1rem;
            border-radius: 5px;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 2.5rem;
            color: var(--accent-color);
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-label {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--toggle-bg);
            transition: .4s;
            border-radius: 34px;
            box-shadow: inset 0 0 5px var(--shadow-color);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: var(--toggle-circle);
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        input:checked + .slider {
            background-color: var(--accent-color);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        main{
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 2rem;
            margin-top: 5rem;
        }

        .features{
            display: grid;
            grid-template-columns: auto auto;
            gap: 20px;
        }

        .card{
            background-color: var(--card-bg);
            border: 2px solid var(--border-color);
            padding: 10px;
            border-radius: 5px;
        }

        h2 {
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .card-features{
            background-color: var(--card-bg);
            border: 2px solid var(--border-color);
            padding: 10px;
            border-radius: 5px;
        }

    </style>
</head>
<body>
    <div class="container">

        <header>
            <h1>Theme Switcher</h1>
            
            <div class="theme-toggle">
                <span class="toggle-label">Light</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
                <span class="toggle-label">Dark</span>
            </div>
        </header>

        <main>
            <div class="card">
                <h2>Welcome to the Theme Switcher</h2>
                <p>This page demonstrates a dark/light mode toggle with localStorage persistence. Your theme preference will be saved and automatically applied on your next visit.
                    Toggle the switch in the header to change between light and dark modes.</p>
            </div>

            <div class="features">
                <div class="card-features">
                    <h3>Auto-Save</h3>
                    <p>Your theme preference is automatically saved to localStorage and will be restored on your next visit.</p>
                </div>

                <div class="card-features">
                    <h3>Smooth Transitions</h3>
                    <p>Enjoy smooth color transitions when switching between themes for a better user experience.</p>
                </div>

                <div class="card-features">
                    <h3>Responsive Design</h3>
                    <p>This interface works perfectly on all device sizes, from mobile to desktop.</p>
                </div>

            </div>
        </main>

    </div>

<script>
    document.addEventListener("DOMContentLoaded",()=>{
        const themeToggle = document.getElementById("theme-toggle");
        const body = document.body;

        const savedTheme = localStorage.getItem("theme");
        const prefersDark = window.matchMedia('(prefer-color-schema: dark)').matches;

        if(savedTheme === 'dark'){
            body.setAttribute("data-theme", 'dark');
            themeToggle.checked = true;
        }else{
            body.setAttribute("data-theme", "light");
            themeToggle.checked = false;
        }


        themeToggle.addEventListener("change", ()=>{
            if(themeToggle.checked){
                body.setAttribute("data-theme", 'dark');
                localStorage.setItem("theme", "dark");
            }else{
                body.setAttribute("data-theme", "light");
                localStorage.setItem("theme", 'light');
            }
        })
    })
</script>
</body>
</html>